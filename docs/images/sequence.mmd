sequenceDiagram
    participant User
    participant spad_sim.py
    participant core.py
    participant io.py
    participant plotting.py

    User->>spad_sim.py: Execute with command-line arguments
    spad_sim.py->>core.py: simulate_spad_time_tags(...)
    core.py-->>spad_sim.py: Return time_tags_1, time_tags_2
    spad_sim.py->>io.py: save_tags_to_csv(...)
    io.py-->>spad_sim.py: Return
    spad_sim.py->>core.py: find_time_differences(...)
    core.py-->>spad_sim.py: Return time_differences
    spad_sim.py->>plotting.py: plot_coincidence_histogram(...)
    plotting.py-->>User: Display plot
